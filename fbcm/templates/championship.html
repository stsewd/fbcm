{% import "macros.html" as macros %}
{% extends "layout.html" %}

{% block title %}{{ championship.name }}{% endblock %}

{% set form_id = "form-add-team-to-championship"%}

{% block body %}
<h1>{{ championship.name }}</h1>
<blockquote>
  <p class="text-muted">
    {{ championship.description }}
  </p>
</blockquote>

<h2>Equipos</h2>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>#</th>
      <th>Nombre</th>
    </tr>
  </thead>
  <tbody>
    {% for teamc in championship.teams %}
    {% set team = teamc.team %}
    <tr>
      <td scope="row">
        {{ loop.index }}
      </td>
      <td>
        <a href="{{ url_for('teams', id=team.id) }}">
          {{ team.name }}
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Registrar Equipo</h2>
{{ macros.make_form(form, form_id) }}

{% endblock %}

{% block scripts %}
{{ macros.js_send_request(form_id, url_for('add_team_to_championship', id=championship.id), "Equipo agregado.") }}
{% endblock %}
